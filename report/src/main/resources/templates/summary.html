<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="summary" th:object="${session}">
    <p>
        Started at <span class="text-primary" th:text="${helper.formatDateTime(session.startTime)}"></span>,
        finished at <span class="text-primary" th:text="${helper.formatDateTime(session.endTime)}"></span>,
        build time: <span class="text-primary" th:text="${helper.getBuildTime()}"></span>
    </p>
    <p>
        <span th:unless="${session.profiles.isEmpty()}"><span>Profiles: </span><span class="text-primary"th:text="${helper.toString(session.profiles)}"></span></span>
        <span th:unless="${session.goals.isEmpty()}"><span>Goals:</span><span class="text-primary" th:text="${helper.toString(session.goals)}"></span></span>
        <span><span>Degree Of Parallelism: </span><span class="text-primary" th:text="${session.dop}"></span></span>
        <span th:if="${session.offline}" class="text-primary"><span>, </span><span class="text-primary">Offline</span></span>
    </p>
    <h5 class="border-top  mt-3">
        <span th:text="${#numbers.formatInteger(helper.getFailureCount(), 0)}"></span><span> failures</span>
    </h5>
    <span th:if="${#numbers.formatInteger(helper.getFailureCount(), 0)}==0">This build did not contain any failures.</span>
    <h5 class="border-top  mt-3">
        <span th:text="${#numbers.formatInteger(helper.getProjectCount(),0)}"></span><span> modules</span>
    </h5>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Group Id</th>
            <th scope="col">Artifact Id</th>
            <th scope="col">Version</th>
            <th scope="col">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="module : ${modules}">
            <td><span th:text="${module.name}"></span></td>
            <td><span th:text="${module.groupId}"></span></td>
            <td><span th:text="${module.artifactId}"></span></td>
            <td><span th:text="${module.version}"></span></td>
            <td><span th:text="${module.description}"></span></td>
        </tr>
        </tbody>
    </table>
    <h5 class="border-top  mt-3">
        <span th:text="${#numbers.formatInteger(mojos.size(),0)}"></span><span> tasks executed in </span>
        <span th:text="${helper.getBuildTime()}"></span>
    </h5>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr>
            <th scope="col" rowspan="2" class="align-top">Name</th>
            <th scope="col" rowspan="2" class="align-top">Class Name</th>
            <th scope="col" colspan="2" class="text-center">Duration</th>
            <th scope="col" rowspan="2" class="align-top">Status</th>
            <th scope="col" rowspan="2" class="align-top">Execution Count</th>
        </tr>
        <tr>
            <th scope="col" class="text-end">Total</th>
            <th scope="col" class="text-end">Average</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="mojo : ${mojos}">
            <td th:text="${mojo.name}"></td>
            <td th:text="${mojo.className}"></td>
            <td class="text-end" th:text="${helper.formatDuration(mojo.duration)}"></td>
            <td class="text-end" th:text="${helper.formatDuration(mojo.averageDuration)}"></td>
            <td>
                <span th:if="${mojo.failureCount==0}">Success</span>
                <span th:if="${mojo.failureCount>0}">Failure</span>
            </td>
            <td><span th:text="${mojo.executionCount}"></span></td>
        </tr>
        </tbody>
    </table>

    <h5 class="border-top  mt-3">
        <span th:text="${#numbers.formatInteger(dependencies.size(),0)}"></span><span> direct dependencies resolved in </span>
        <span th:text="${#numbers.formatInteger(helper.getProjectCount(),0)}"></span><span> modules</span>
    </h5>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr>
            <th scope="col">Group Id</th>
            <th scope="col">Artifact Id</th>
            <th scope="col">Version</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="dependency : ${dependencies}">
            <td><span th:text="${dependency.groupId}"></span></td>
            <td><span th:text="${dependency.artifactId}"></span></td>
            <td><span th:text="${dependency.version}"></span></td>
        </tr>
        </tbody>
    </table>
    <h5 class="border-top  mt-3">
        <span th:text="${#numbers.formatInteger(plugins.size(),0)}"></span><span> plugins in </span>
        <span th:text="${#numbers.formatInteger(helper.getProjectCount(),0)}"></span><span> modules</span>
    </h5>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr>
            <th scope="col">Group Id</th>
            <th scope="col">Artifact Id</th>
            <th scope="col">Version</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="plugin : ${plugins}">
            <td><span th:text="${plugin.groupId}"></span></td>
            <td><span th:text="${plugin.artifactId}"></span></td>
            <td><span th:text="${plugin.version}"></span></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>